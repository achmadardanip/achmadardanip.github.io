/*global swfobject, log*/function testing(){return undefined}function fixSideCaptions(){var e=$(".image-with-caption-left, .image-with-caption-right");e.each(function(){var e=$(this).find("img"),t=$(this).find("p");e.parent("a").length>0?e.parent("a").prependTo($(this)):e.prependTo($(this));var n;e.load(function(){n=$(this).height();var e=t.height(),r=n-e;r/=2;r>0&&t.css("margin-top",r)})})}function simpleGallery(){$(".gallery li").append("<div class = 'gallery-print-icon'><img src = '/resources/common/tiny-do-icon.png' alt = 'print'></div>");$(".gallery-print-icon").click(function(){var e=$(this).parent().find("a").attr("href");window.location=e;return!1});$(".gallery li span").each(function(){});$(".gallery li").hover(function(){$(this).find("span").slideUp()},function(){$(this).find("span").slideDown()})}function indexHoverInit(){$(".hover-link-space, .hover-link-sun, .hover-link-earth, .hover-link-solar, .hover-link-parents, .hover-link-technology").hover(function(){var e=/hover\-link\-(space|sun|earth|solar|parents|technology)/i,t=$(this).attr("class"),n=e.exec(t),r=n[0];$(".hover").removeClass("hover");var i=$("."+r);i.addClass("hover")},function(){var e=/hover\-link\-(space|sun|earth|solar|parents|technology)/i,t=$(this).attr("class"),n=e.exec(t),r=n[0],i=$("."+r);i.removeClass("hover")}).click(function(){var e=$(this).attr("data-special-link");if(e!==""&&e!==undefined){window.location=e;return!1}var t=/hover\-link\-(space|sun|earth|solar|parents|technology)/i,n=$(this).attr("class"),r=t.exec(n),i=r[0];window.location=$("a."+i).attr("href")})}function getParameterByName(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t),r=n.exec(window.location.href);return r===null?"":decodeURIComponent(r[1].replace(/\+<\>/g," "))}function processQueryStringForTheme(){if(getParameterByName("theme")!==""){$body.removeClass("random").removeClass("earth").removeClass("sun").removeClass("solar-system").removeClass("parents-and-educators").removeClass("people-and-technology").removeClass("space");$body.addClass(getParameterByName("theme"));$themeCSS.attr("href","/css/css/themes/"+getParameterByName("theme"))}}function swapTruncation(){var e=$(this).find("a").attr("data-full-text");if(typeof e=="undefined"||e===!1)return;var t=$(this).find("a"),n=t.attr("data-full-text");if(n.length<1)return;var r=t.text();t.attr("data-full-text",r);t.text(n);t.parent().parent().find(".type-icon").toggle()}function fontCheckWF(){var e=[];$(".sunshiney").length>0&&e.push("Sunshiney");$(".schoolbell").length>0&&e.push("Schoolbell");$(".chewy").length>0&&e.push("Chewy");$(".neucha").length>0&&e.push("Neucha");$(".coming-soon").length>0&&e.push("Coming Soon");$(".reenie-beanie").length>0&&e.push("Reenie Beanie");$(".mountains-of-christmas").length>0&&e.push("Mountains of Christmas");$(".waiting-for-the-sunrise").length>0&&e.push("Waiting for the Sunrise");$(".rock-salt").length>0&&e.push("Rock Salt");$(".indie-flower").length>0&&e.push("Indie Flower");$(".permanent-marker").length>0&&e.push("Permanent Marker");$(".swanky-and-moo-moo").length>0&&e.push("Swanky and Moo Moo");$(".unkempt").length>0&&e.push("Unkempt");if(e.length>0){WebFontConfig={google:{families:e}};(function(){var e=document.createElement("script");e.src=("https:"===document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js";e.type="text/javascript";e.async="true";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})()}var t=[];$("[data-font]").each(function(){var e=$(this).attr("data-font");t.push(e.replace(" ","+"));$(this).css("font-family",e)});var n=t.join("|");if(t.length>0){var r="<link href='https://fonts.googleapis.com/css?family="+n+"' rel='stylesheet' type='text/css'>";$(r).appendTo($("head"))}}function reactToHashTag(e){var t=null;$("a").each(function(){"#"+$(this).attr("href")===e&&(t=$(this))});if(t!==null){t.addClass("skip-fade");t.click();t.removeClass("skip-fade")}}function hashChangeCheck(){var e=window.location.hash.replace("<","[").replace(">","]");e==="#"||e===""?$("#game-and-close-button-wrapper .close-button").click():reactToHashTag(e)}function initFactOfTheDay(){if($factOfTheDayButton.length===0)return;$factOfTheDayButton.click(function(){if($factOfTheDay.hasClass("closed")){$factOfTheDay.removeClass("closed");$factOfTheDay.animate({height:factHeight})}else{$factOfTheDay.addClass("closed");factHeight=$factOfTheDay.height();$factOfTheDay.animate({height:"0"})}return!1})}function fixWidth(e){$("#game-wrapper").width(parseInt(e,10)+40);$("#game-container").width(parseInt(e,10));$(".with-game").width(parseInt(e,10)+40)}function fixHeightAndWidth(e,t){$gameWrapper.width(parseInt(e,10)+40).height(parseInt(t,10)+20);$("#game-container").width(parseInt(e,10)).height(parseInt(t,10));$game.width(e).height(t);$(".with-game").width(parseInt(e,10)+40)}function swfClickedPhaseTwo(e,t,n){var r=!1;try{var i=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");i&&(r=!0)}catch(s){navigator.mimeTypes["application/x-shockwave-flash"]!=undefined&&(r=!0)}var o=!1;$("<div id = 'game-and-close-button-wrapper'><div id = 'game-wrapper'><div id = 'game-container'><div id = 'game'></div></div></div><div class = 'close-button'>Go back</div></div>").appendTo($container).hide().fadeIn();$gameContainer=$("#game-container");$gameAndCloseButtonWrapper=$("#game-and-close-button-wrapper");$gameWrapper=$("#game-wrapper");$game=$("#game");$(".sp #game-and-close-button-wrapper .close-button").text("Regresar");$container.addClass("with-game");$gameWrapper.click(function(){return!1});if(e.indexOf(".swf")!==-1&&r){var u=/\/([a-z0-9_\.\-]*\.swf)/i,a=e.match(u),f=e.replace(a[1],""),l={},c={base:f,play:!0,loop:!0},h={};swfobject.embedSWF(e,"game",n,t,"9","",l,c,h);o=!0}else if(e.indexOf(".mp4")!==-1){$("<video src = '"+e+"' height = '"+t+"' width = '"+n+"'>"+"</video>").appendTo("#game");setTimeout(function(){$("video").mediaelementplayer()},50);o=!0}else if(e.indexOf(".html")!==-1||e.indexOf(".shtml")!==-1||!r){e.indexOf(".swf")!==-1&&(e="/resources/ajax/noflash.html");e+="?rng="+Math.random();$.get(e,function(e){$game.append("<div id = 'ajax-wrapper'></div>").find("#ajax-wrapper").html(e).append("<div class = 'clearfix'></div>").after("<div id = 'ajax-spacer'></div>");if(n!==undefined){t=$gameWrapper.height();o=!1;fixWidth(n)}$ajaxLinks.add("a.ajax, area.ajax").click(videoClicked);$("#game video").mediaelementplayer({features:["playpause","progress","volume","fullscreen"]});$("#game audio").mediaelementplayer({audioWidth:350});$("#game a:not(.ajax)").click(function(){window.location=$(this).attr("href")});$("#game .embedded-flash").embeddedFlash()})}o&&fixHeightAndWidth(n,t);$gameAndCloseButtonWrapper.find(".close-button").click(function(){window.location.hash="";$gameAndCloseButtonWrapper.fadeOut(1e3,function(){$(this).remove();$contentWrapper.add("header:not(#nasa-header), footer:not(#nasa-footer)").fadeIn(1e3,function(){$(window).scrollTop(lastScrollPosition)});$container.removeClass("with-game").width(852)})})}function fadeInQueueComplete(){$("#menu .content").height("auto");movementInProgress=!1}function progressFadeInQueue(){if(fadeInQueue.length===0){fadeInQueueComplete();return}var e=fadeInQueue.shift();e.fadeIn(750);setTimeout(function(){progressFadeInQueue()},250)}function menuFilterInit(){var e=$("#menu .content li");$(".type-icon").each(function(){$(this).hasClass("do")&&$(this).parent().addClass("do");$(this).hasClass("explore")&&$(this).parent().addClass("explore");$(this).hasClass("play")&&$(this).parent().addClass("play")});$("#filter-menu div:.all").addClass("selected");$("#filter-menu div").click(function(){if(movementInProgress)return;movementInProgress=!0;$("#filter-menu div.selected").removeClass("selected");var t=$(this).attr("class");t==="print"&&(t="do");t==="view"&&(t="explore");$(this).addClass("selected");fadeInQueue=[];e.each(function(){t==="all"?fadeInQueue.push($(this)):$(this).hasClass(t)&&fadeInQueue.push($(this))});var n=!0;e.filter(":visible").fadeOut(750,function(){if(n){progressFadeInQueue();n=!1}})})}function whatsNewGoTo(e){clearTimeout(whatsNewTimer);whatsNewTimer=setTimeout(whatsNewNext,4e3);var t=$(".whats-new ul li"),n=$(".whats-new ul li.current"),r=$(".whats-new-circles span"),i=$(".whats-new-circles span.current"),s=$(t.get(e));n.fadeOut(750,function(){n.removeClass("current");s.addClass("current");s.hide();s.fadeIn(750);i.removeClass("current");$(r.get(e)).addClass("current")})}function whatsNewInit(){whatsNewTimer=setTimeout(whatsNewNext,4e3);$(".whats-new ul").css("height",$(".whats-new ul").height());while($(".whats-new-circles span").length<$(".whats-new ul li").length)$($(".whats-new-circles span").get(0)).clone().appendTo($(".whats-new-circles"));$($(".whats-new-circles span").get(0)).addClass("current");$(".whats-new-circles span").click(function(){var e=$(".whats-new-circles span").index($(this));whatsNewGoTo(e)})}var searchRequestInProgress,quickSearchTimeout,quickSearchQuery,quickSearchRequest,embeddedFlashCounter=0;(function(e){e.addToConsole=function(t){var n="null";t!=null&&(n=JSON.stringify(t));e(".console code pre").append("\n"+n);e(".console code pre").css("padding",15)};e.replaceConsole=function(t){var n="null";t!=null&&(n=JSON.stringify(t));e(".console code pre").html(n);e(".console code pre").css("padding",15)};e.clearConsole=function(){e(".console code pre").html()}})(jQuery);(function(e){var t={init:function(t){var n=e.extend({standardSearchURL:"/search/",quickSearchURL:"/magic/search.php",numberOfResults:5},t);return this.each(function(){var t=e(this),r='<div class = "search-results"><div class = "searching">Searching...</div><div class = "ajax-results"><div class = "relevant-articles"><span>Related Articles</span><ul><li class = "hidden"><a href = ""><img src = ""></a></li></ul></div><div class = "see-all"><span><a href = \'\'> See all... </a></span></div></div></div>';t.append(r);t.find("input").bind("input",function(){if(e(this).val()===""){var n=t.find(".search-results"),r=t.find(".ajax-results"),i=t.find(".searching");n.fadeOut("fast",function(){searchRequestInProgress=!1;r.hide();i.show()})}else{quickSearchTimeout!==undefined&&clearTimeout(quickSearchTimeout);quickSearchQuery=e(this).val();quickSearchTimeout=setTimeout(function(){t.quickSearch("request")},500)}}).bind("blur",function(){e(this).val("").trigger("input")}).wrap("<form></form>").parent().bind("submit",function(){var r=t.find(".ajax-results ul li.selected");if(r.length>0){window.location=r.find("a").attr("href");return!1}window.location=n.standardSearchURL+e(this).find("input").val().split(" ").join("/");return!1})})},request:function(){var t=this,n=quickSearchQuery,r=this.find(".search-results"),i=this.find(".ajax-results"),s=this.find(".searching");quickSearchRequest!==null&&quickSearchRequest.abort();if(!searchRequestInProgress){r.slideDown();i.slideUp();s.slideDown()}quickSearchRequest=e.get("/magic/search.php",{q:n,type:"quick",numberOfResults:5},function(r){i.slideDown();s.slideUp();searchRequestInProgress=!1;var o=e.parseJSON(r),u=e(".relevant-articles ul li");for(var a=0;a<o.length;a++){var f=o[a],l=u.clone().removeClass("hidden");l.find("a").attr("href","/"+f.uri);l.find("img").attr("src",f.icon).after(f.title);l.insertAfter(u)}e(".see-all a").attr("href","/search/"+n);e("input").unbind("keydown").bind("keydown",function(e){e.keyCode===38?t.quickSearch("up"):e.keyCode===40&&t.quickSearch("down")})});searchRequestInProgress=!0},up:function(){var e=this.find("li"),t=e.filter(".selected");if(t.length===0){t=this.find("li:not(.hidden)").last();t.addClass("selected")}else t.removeClass("selected").prev().addClass("selected")},down:function(){var e=this.find("li"),t=e.filter(".selected");if(t.length===0){t=this.find("li:not(.hidden)").first();t.addClass("selected")}else t.removeClass("selected").next().addClass("selected")}};e.fn.quickSearch=function(n){if(t[n])return t[n].apply(this,Array.prototype.slice.call(arguments,1));if(typeof n=="object"||!n)return t.init.apply(this,arguments);e.error("Method "+n+" does not exist on jQuery.quickSearch")}})(jQuery);(function(e){e.fn.hasSpecialFont=function(){if(e(this).is(".sunshiney, .schoolbell, .chewy, .neucha, .coming-soon, .reenie-beanie, .mountains-of-christmas, .waiting-for-the-sunrise, .rock-salt, .permanent-marker, .swanky-and-moo-moo, .unkempt"))return!0};e.fn.conditionalChildren=function(t){this.each(function(){var n=e(this),r=n.attr("data-child-type"),i=n.find(r);i.each(function(){var n=e(this),r=[];n.attr("data-flag")&&(r=n.attr("data-flag").split(" "));(e.inArray("all",r)!==-1||e.inArray(t,r)!==-1)&&n.addClass("show")});i.hide();i.filter(".show").show()})};e.fn.simpleFader=function(){this.each(function(){var t=e(this).find(".social-media-overlay"),n=e(this).find("ul"),r=n.find("li");r.hide().first().show();t.find("p").hide().first().show();n.height(r.first().height());setInterval(function(){n.find("li").first().fadeOut(1e3,function(){n.append(e(this));n.find("li").first().fadeIn(500)});t.find("p").first().fadeOut(1e3,function(){t.append(e(this));t.find("p").first().fadeIn(500)})},6e3)})};e.fn.truncate=function(t,n){this.each(function(){var r=e(this).text();if(r.length<n)return;var i=r.split(" "),s="";for(var o in i){var u=s+" "+i[o];if(!(u.length<n-t.length))break;s=u}s+=t;e(this).attr("data-full-text",r);e(this).text(s);e(this).addClass("truncated")});return this};e.fn.hoverImage=function(){this.hover(function(){var t=e(this).attr("data-over");e(this).attr("data-over",e(this).attr("src"));e(this).attr("src",t)},function(){var t=e(this).attr("data-over");e(this).attr("data-over",e(this).attr("src"));e(this).attr("src",t)})};e.fn.skinnyFooter=function(){};e.fn.formspring=function(){var t=this;t.find(".answer").hide();t.find("li h2:not(.current)").live("click",function(){e("#formspring li .answer").slideUp();e(this).parent().find(".answer").slideDown();e(".current").removeClass("current");e(this).addClass("current")});t.find("li h2.current").live("click",function(){e(this).parent().find(".answer").slideUp();e(this).removeClass("current")})};e.fn.imageWell=function(t){var n=this,r=t.find("li a");r.click(function(){return!1});r.find("img").click(function(){var t=e(this).parent("a").attr("href"),r=e(this).attr("alt"),i=n.find("img"),s=n.find(".image-caption");n.find(".image-caption, img").fadeOut("slow",function(){i.attr("src",t).attr("alt",r);s.text(r);i.fadeIn("slow");s.fadeIn("slow")})},function(){});r.find("img:first").click()};e.fn.cssizeTable=function(){this.find("td").each(function(){e(this).css("background-color",e(this).attr("bgcolor"));if(e(this).closest("table").attr("border")!==undefined){var t=e(this).closest("table").attr("border");t.length>0&&e(this).css("border",t)}})};e.fn.notify=function(){var t=this,n=e("#container");if(this.length>0){t.prependTo("body");t.hide().delay(1e3).slideDown();n.animate({top:40});e("#notifications .close").live("click",function(){t.fadeOut();n.animate({top:0});return!1})}};e.fn.externalLink=function(){/*this.each(function(){e(this).attr("href","/external/"+e(this).attr("href"))})*/};e.fn.embeddedFlash=function(){this.each(function(){var t=e(this).find("a").last().attr("href"),n=!1;e(this).hasClass("center")&&(n=!0);e(this).attr("id","embedded-flash-"+embeddedFlashCounter++);var r=e(this).attr("id");n?e(this).wrap("<div class = 'center' style = 'margin-bottom:20px'></div>"):e(this).wrap("<div style = 'margin-bottom:20px'></div>");var i=/\/([a-z0-9_\.\-]*\.swf)/i,s=t.match(i),o=t.replace(s[1],""),u={},a={base:o,play:!0,loop:!0},f={};swfobject.embedSWF(t,r,e(this).width(),e(this).height(),"9","",u,a,f)})};e.fn.activateTooltip=function(t){var n=t;n.appendTo("body");var r=n.find(".content"),i=0,s=0;this.each(function(){var t=e(this),o=e(this).html(),u=e(this).parent();u.hover(function(){if(t.is(":visible"))return;r.html(o);n.show();i=-n.height()-25;s=u.width()/4;n.css("top",u.offset().top+i).css("left",u.offset().left+s)},function(){n.hide()})})}})(window.jQuery);window.log=function(){log.history=log.history||[];log.history.push(arguments)};(function(e){var t=e.write;e.write=function(n){log("document.write(): ",arguments);/docwriteregexwhitelist/.test(n)&&t.apply(e,arguments)}})(document);var swfobject=function(){function C(){if(b)return;try{var e=a.getElementsByTagName("body")[0].appendChild(U("span"));e.parentNode.removeChild(e)}catch(t){return}b=!0;var n=c.length;for(var r=0;r<n;r++)c[r]()}function k(e){b?e():c[c.length]=e}function L(t){if(typeof u.addEventListener!=e)u.addEventListener("load",t,!1);else if(typeof a.addEventListener!=e)a.addEventListener("load",t,!1);else if(typeof u.attachEvent!=e)z(u,"onload",t);else if(typeof u.onload=="function"){var n=u.onload;u.onload=function(){n();t()}}else u.onload=t}function A(){l?O():M()}function O(){var n=a.getElementsByTagName("body")[0],r=U(t);r.setAttribute("type",i);var s=n.appendChild(r);if(s){var o=0;(function(){if(typeof s.GetVariable!=e){var t=s.GetVariable("$version");if(t){t=t.split(" ")[1].split(",");T.pv=[parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10)]}}else if(o<10){o++;setTimeout(arguments.callee,10);return}n.removeChild(r);s=null;M()})()}else M()}function M(){var t=h.length;if(t>0)for(var n=0;n<t;n++){var r=h[n].id,i=h[n].callbackFn,s={success:!1,id:r};if(T.pv[0]>0){var o=R(r);if(o)if(W(h[n].swfVersion)&&!(T.wk&&T.wk<312)){V(r,!0);if(i){s.success=!0;s.ref=_(r);i(s)}}else if(h[n].expressInstall&&D()){var u={};u.data=h[n].expressInstall;u.width=o.getAttribute("width")||"0";u.height=o.getAttribute("height")||"0";o.getAttribute("class")&&(u.styleclass=o.getAttribute("class"));o.getAttribute("align")&&(u.align=o.getAttribute("align"));var a={},f=o.getElementsByTagName("param"),l=f.length;for(var c=0;c<l;c++)f[c].getAttribute("name").toLowerCase()!="movie"&&(a[f[c].getAttribute("name")]=f[c].getAttribute("value"));P(u,a,r,i)}else{H(o);i&&i(s)}}else{V(r,!0);if(i){var p=_(r);if(p&&typeof p.SetVariable!=e){s.success=!0;s.ref=p}i(s)}}}}function _(n){var r=null,i=R(n);if(i&&i.nodeName==="OBJECT")if(typeof i.SetVariable!=e)r=i;else{var s=i.getElementsByTagName(t)[0];s&&(r=s)}return r}function D(){return!w&&W("6.0.65")&&(T.win||T.mac)&&!(T.wk&&T.wk<312)}function P(t,n,r,i){w=!0;g=i||null;y={success:!1,id:r};var o=R(r);if(o){if(o.nodeName==="OBJECT"){v=B(o);m=null}else{v=o;m=r}t.id=s;if(typeof t.width===e||!/%$/.test(t.width)&&parseInt(t.width,10)<310)t.width="310";if(typeof t.height===e||!/%$/.test(t.height)&&parseInt(t.height,10)<137)t.height="137";a.title=a.title.slice(0,47)+" - Flash Player Installation";var f=T.ie&&T.win?"ActiveX":"PlugIn",l="MMredirectURL="+u.location.toString().replace(/&/g,"%26").replace("<","[").replace(">","]")+"&MMplayerType="+f+"&MMdoctitle="+a.title;typeof n.flashvars!=e?n.flashvars+="&"+l:n.flashvars=l;if(T.ie&&T.win&&o.readyState!=4){var c=U("div");r+="SWFObjectNew";c.setAttribute("id",r);o.parentNode.insertBefore(c,o);o.style.display="none";(function(){o.readyState===4?o.parentNode.removeChild(o):setTimeout(arguments.callee,10)})()}j(t,n,r)}}function H(e){if(T.ie&&T.win&&e.readyState!=4){var t=U("div");e.parentNode.insertBefore(t,e);t.parentNode.replaceChild(B(e),t);e.style.display="none";(function(){e.readyState===4?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)})()}else e.parentNode.replaceChild(B(e),e)}function B(e){var n=U("div");if(T.win&&T.ie)n.innerHTML=e.innerHTML;else{var r=e.getElementsByTagName(t)[0];if(r){var i=r.childNodes;if(i){var s=i.length;for(var o=0;o<s;o++)(i[o].nodeType!==1||i[o].nodeName!=="PARAM")&&i[o].nodeType!==8&&n.appendChild(i[o].cloneNode(!0))}}}return n}function j(n,r,s){var o,u=R(s);if(T.wk&&T.wk<312)return o;if(u){typeof n.id===e&&(n.id=s);if(T.ie&&T.win){var a="";for(var f in n)n[f]!=Object.prototype[f]&&(f.toLowerCase()==="data"?r.movie=n[f]:f.toLowerCase()==="styleclass"?a+=' class="'+n[f]+'"':f.toLowerCase()!="classid"&&(a+=" "+f+'="'+n[f]+'"'));var l="";for(var c in r)r[c]!=Object.prototype[c]&&(l+='<param name="'+c+'" value="'+r[c]+'" />');var h='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+a+">"+l+"</object>";if(h.indexOf("script")!=-1)return;$("#"+s).replaceWith(h);p[p.length]=n.id;o=R(n.id)}else{var d=U(t);d.setAttribute("type",i);for(var v in n)n[v]!=Object.prototype[v]&&(v.toLowerCase()==="styleclass"?d.setAttribute("class",n[v]):v.toLowerCase()!="classid"&&d.setAttribute(v,n[v]));for(var m in r)r[m]!=Object.prototype[m]&&m.toLowerCase()!="movie"&&F(d,m,r[m]);if($(d).find("script").length!=0)return;$("#"+s).replaceWith(d);o=d}}return o}function F(e,t,n){var r=U("param");r.setAttribute("name",t);r.setAttribute("value",n);e.appendChild(r)}function I(e){var t=R(e);if(t&&t.nodeName==="OBJECT")if(T.ie&&T.win){t.style.display="none";(function(){t.readyState===4?q(e):setTimeout(arguments.callee,10)})()}else t.parentNode.removeChild(t)}function q(e){var t=R(e);if(t){for(var n in t)typeof t[n]=="function"&&(t[n]=null);t.parentNode.removeChild(t)}}function R(e){var t=null;try{t=a.getElementById(e)}catch(n){}return t}function U(e){return a.createElement(e)}function z(e,t,n){e.attachEvent(t,n);d[d.length]=[e,t,n]}function W(e){var t=T.pv,n=e.split(".");n[0]=parseInt(n[0],10);n[1]=parseInt(n[1],10)||0;n[2]=parseInt(n[2],10)||0;return t[0]>n[0]||t[0]===n[0]&&t[1]>n[1]||t[0]===n[0]&&t[1]===n[1]&&t[2]>=n[2]?!0:!1}function X(n,r,i,s){if(T.ie&&T.mac)return;var o=a.getElementsByTagName("head")[0];if(!o)return;var u=i&&typeof i=="string"?i:"screen";if(s){E=null;S=null}if(!E||S!=u){var f=U("style");f.setAttribute("type","text/css");f.setAttribute("media",u);E=o.appendChild(f);T.ie&&T.win&&typeof a.styleSheets!=e&&a.styleSheets.length>0&&(E=a.styleSheets[a.styleSheets.length-1]);S=u}T.ie&&T.win?E&&typeof E.addRule===t&&E.addRule(n,r):E&&typeof a.createTextNode!=e&&E.appendChild(a.createTextNode(n+" {"+r+"}"))}function V(e,t){if(!x)return;var n=t?"visible":"hidden";b&&R(e)?R(e).style.visibility=n:X("#"+e,"visibility:"+n)}function J(t){var n=/[\\\"<>\.;]/,r=n.exec(t)!=null;return r&&typeof encodeURIComponent!=e?encodeURIComponent(t):t}var e="undefined",t="object",n="Shockwave Flash",r="ShockwaveFlash.ShockwaveFlash",i="application/x-shockwave-flash",s="SWFObjectExprInst",o="onreadystatechange",u=window,a=document,f=navigator,l=!1,c=[A],h=[],p=[],d=[],v,m,g,y,b=!1,w=!1,E,S,x=!0,T=function(){var s=typeof a.getElementById!=e&&typeof a.getElementsByTagName!=e&&typeof a.createElement!=e,o=f.userAgent.toLowerCase(),c=f.platform.toLowerCase(),h=c?/win/.test(c):/win/.test(o),p=c?/mac/.test(c):/mac/.test(o),d=/webkit/.test(o)?parseFloat(o.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,v=!1,m=[0,0,0],g=null;if(typeof f.plugins!=e&&typeof f.plugins[n]===t){g=f.plugins[n].description;if(g&&(typeof f.mimeTypes==e||!f.mimeTypes[i]||!!f.mimeTypes[i].enabledPlugin)){l=!0;v=!1;g=g.replace(/^.*\s+(\S+\s+\S+$)/,"$1");m[0]=parseInt(g.replace(/^(.*)\..*$/,"$1"),10);m[1]=parseInt(g.replace(/^.*\.(.*)\s.*$/,"$1"),10);m[2]=/[a-zA-Z]/.test(g)?parseInt(g.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else if(typeof u.ActiveXObject!=e)try{var y=new ActiveXObject(r);if(y){g=y.GetVariable("$version");if(g){v=!0;g=g.split(" ")[1].split(",");m=[parseInt(g[0],10),parseInt(g[1],10),parseInt(g[2],10)]}}}catch(b){}return{w3:s,pv:m,wk:d,ie:v,win:h,mac:p}}(),N=function(){if(!T.w3)return;(typeof a.readyState!=e&&a.readyState==="complete"||typeof a.readyState===e&&(a.getElementsByTagName("body")[0]||a.body))&&C();if(!b){typeof a.addEventListener!=e&&a.addEventListener("DOMContentLoaded",C,!1);if(T.ie&&T.win){a.attachEvent(o,function(){if(a.readyState==="complete"){a.detachEvent(o,arguments.callee);C()}});u===top&&function(){if(b)return;try{a.documentElement.doScroll("left")}catch(e){setTimeout(arguments.callee,0);return}C()}()}T.wk&&function(){if(b)return;if(!/loaded|complete/.test(a.readyState)){setTimeout(arguments.callee,0);return}C()}();L(C)}}(),K=function(){T.ie&&T.win&&window.attachEvent("onunload",function(){var e=d.length;for(var t=0;t<e;t++)d[t][0].detachEvent(d[t][1],d[t][2]);var n=p.length;for(var r=0;r<n;r++)I(p[r]);for(var i in T)T[i]=null;T=null;for(var s in swfobject)swfobject[s]=null;swfobject=null})}();return{registerObject:function(e,t,n,r){if(T.w3&&e&&t){var i={};i.id=e;i.swfVersion=t;i.expressInstall=n;i.callbackFn=r;h[h.length]=i;V(e,!1)}else r&&r({success:!1,id:e})},getObjectById:function(e){if(T.w3)return _(e)},embedSWF:function(n,r,i,s,o,u,a,f,l,c){var h={success:!1,id:r};if(T.w3&&!(T.wk&&T.wk<312)&&n&&r&&i&&s&&o){V(r,!1);k(function(){i+="";s+="";var p={};if(l&&typeof l===t)for(var d in l)p[d]=l[d];p.data=n;p.width=i;p.height=s;var v={};if(f&&typeof f===t)for(var m in f)v[m]=f[m];if(a&&typeof a===t)for(var g in a)typeof v.flashvars!=e?v.flashvars+="&"+g+"="+a[g]:v.flashvars=g+"="+a[g];if(W(o)){var y=j(p,v,r);p.id===r&&V(r,!0);h.success=!0;h.ref=y}else{if(u&&D()){p.data=u;P(p,v,r,c);return}V(r,!0)}c&&c(h)})}else c&&c(h)},switchOffAutoHideShow:function(){x=!1},ua:T,getFlashPlayerVersion:function(){return{major:T.pv[0],minor:T.pv[1],release:T.pv[2]}},hasFlashPlayerVersion:W,createSWF:function(e,t,n){return T.w3?j(e,t,n):undefined},showExpressInstall:function(e,t,n,r){T.w3&&D()&&P(e,t,n,r)},removeSWF:function(e){T.w3&&I(e)},createCSS:function(e,t,n,r){T.w3&&X(e,t,n,r)},addDomLoadEvent:k,addLoadEvent:L,getQueryParamValue:function(e){var t=a.location.search||a.location.hash;t=t.replace("<","[").replace(">","]");if(t){/\?/.test(t)&&(t=t.split("?")[1]);if(e===null)return J(t);var n=t.split("&");for(var r=0;r<n.length;r++)if(n[r].substring(0,n[r].indexOf("="))===e)return J(n[r].substring(n[r].indexOf("=")+1))}return""},expressInstallCallback:function(){if(w){var e=R(s);if(e&&v){e.parentNode.replaceChild(v,e);if(m){V(m,!0);T.ie&&T.win&&(v.style.display="block")}g&&g(y)}w=!1}}}}(),mejs=mejs||{};mejs.version="2.0.0";mejs.meIndex=0;mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","audio/flv","audio/mp3","audio/m4a"]}]};mejs.Utility={encodeUrl:function(e){return e.replace(/\?/gi,"%3F").replace(/=/gi,"%3D").replace(/&/gi,"%26")},escapeHTML:function(e){return e.split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(e){var t=document.createElement("div");t.innerHTML='<a href="'+this.escapeHTML(e)+'">x</a>';return t.firstChild.href},getScriptPath:function(e){for(var t=0,n,r="",i="",s,o=document.getElementsByTagName("script");t<o.length;t++){s=o[t].src;for(n=0;n<e.length;n++){i=e[n];if(s.indexOf(i)>-1){r=s.substring(0,s.indexOf(i));break}}if(r!=="")break}return r},secondsToTimeCode:function(e){e=Math.round(e);var t=Math.floor(e/60);t=t>=10?t:"0"+t;e=Math.floor(e%60);e=e>=10?e:"0"+e;return t+":"+e}};mejs.PluginDetector={hasPluginVersion:function(e,t){var n=this.plugins[e];t[1]=t[1]||0;t[2]=t[2]||0;return n[0]>t[0]||n[0]==t[0]&&n[1]>t[1]||n[0]==t[0]&&n[1]==t[1]&&n[2]>=t[2]?!0:!1},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(e,t,n,r,i){this.plugins[e]=this.detectPlugin(t,n,r,i)},detectPlugin:function(e,t,n,r){var i=[0,0,0],s;if(typeof this.nav.plugins!="undefined"&&typeof this.nav.plugins[e]=="object"){if((n=this.nav.plugins[e].description)&&(typeof this.nav.mimeTypes=="undefined"||!this.nav.mimeTypes[t]||!!this.nav.mimeTypes[t].enabledPlugin)){i=n.replace(e,"").replace(/^\s+/,"").replace(/\sr/gi,".").split(".");for(e=0;e<i.length;e++)i[e]=parseInt(i[e],10)}}else if(typeof window.ActiveXObject!="undefined")try{if(s=new ActiveXObject(n))i=r(s)}catch(o){}return i}};mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(e){var t=[];if(e=e.GetVariable("$version")){e=e.split(" ")[1].split(",");t=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)]}return t});mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(e){var t=[0,0,0,0],n=function(e,t,n,r){for(;e.isVersionSupported(t[0]+"."+t[1]+"."+t[2]+"."+t[3]);)t[n]+=r;t[n]-=r};n(e,t,0,1);n(e,t,1,1);n(e,t,2,1e4);n(e,t,2,1e3);n(e,t,2,100);n(e,t,2,10);n(e,t,2,1);n(e,t,3,1);return t});mejs.PluginDetector.ua.match(/Android 2\.[12]/)!==null&&(HTMLMediaElement.canPlayType=function(e){return e.match(/video\/(mp4|m4v)/gi)!==null?"probably":""});mejs.MediaFeatures={init:function(){var e=mejs.PluginDetector.nav,t=mejs.PluginDetector.ua,n,r=["source","track","audio","video"];this.isiPad=t.match(/iPad/i)!==null;this.isiPhone=t.match(/iPhone/i)!==null;this.isAndroid=t.match(/Android/i)!==null;this.isIE=e.appName.indexOf("Microsoft")!=-1;this.isChrome=t.match(/Chrome/gi)!==null;for(e=0;e<r.length;e++)n=document.createElement(r[e]);this.hasNativeFullScreen=typeof n.webkitEnterFullScreen!="undefined";this.isChrome&&(this.hasNativeFullScreen=!1)}};mejs.MediaFeatures.init();mejs.HtmlMediaElement={pluginType:"native",setCurrentTime:function(e){this.currentTime=e},setMuted:function(e){this.muted=e},setVolume:function(e){this.volume=e},setSrc:function(e){if(typeof e=="string")this.src=e;else{var t,n;for(t=0;t<e.length;t++){n=e[t];this.canPlayType(n.type)&&(this.src=n.src)}}},setVideoSize:function(e,t){this.width=e;this.height=t}};mejs.PluginMediaElement=function(e,t){this.id=e;this.pluginType=t;this.events={}};mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:!0,ended:!1,seeking:!1,duration:0,muted:!1,volume:1,currentTime:0,play:function(){if(this.pluginApi!=null){this.pluginApi.playMedia();this.paused=!1}},load:function(){if(this.pluginApi!=null){this.pluginApi.loadMedia();this.paused=!1}},pause:function(){if(this.pluginApi!=null){this.pluginApi.pauseMedia();this.paused=!0}},canPlayType:function(e){var t,n,r,i=mejs.plugins[this.pluginType];for(t=0;t<i.length;t++){r=i[t];if(mejs.PluginDetector.hasPluginVersion(this.pluginType,r.version))for(n=0;n<r.types.length;n++)if(e==r.types[n])return!0}return!1},setSrc:function(e){if(typeof e=="string")this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(e));else{var t,n;for(t=0;t<e.length;t++){n=e[t];this.canPlayType(n.type)&&this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(n.src))}}},setCurrentTime:function(e){if(this.pluginApi!=null){this.pluginApi.setCurrentTime(e);this.currentTime=e}},setVolume:function(e){if(this.pluginApi!=null){this.pluginApi.setVolume(e);this.volume=e}},setMuted:function(e){if(this.pluginApi!=null){this.pluginApi.setMuted(e);this.muted=e}},setVideoSize:function(e,t){if(this.pluginElement.style){this.pluginElement.style.width=e+"px";this.pluginElement.style.height=t+"px"}this.pluginApi!=null&&this.pluginApi.setVideoSize(e,t)},setFullscreen:function(e){this.pluginApi!=null&&this.pluginApi.setFullscreen(e)},addEventListener:function(e,t){this.events[e]=this.events[e]||[];this.events[e].push(t)},dispatchEvent:function(e){var t,n,r=this.events[e];if(r){n=Array.prototype.slice.call(arguments,1);for(t=0;t<r.length;t++)r[t].apply(null,n)}}};mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(e,t,n){this.pluginMediaElements[e]=t;this.htmlMediaElements[e]=n},initPlugin:function(e){var t=this.pluginMediaElements[e],n=this.htmlMediaElements[e];switch(t.pluginType){case"flash":t.pluginElement=t.pluginApi=document.getElementById(e);break;case"silverlight":t.pluginElement=document.getElementById(t.id);t.pluginApi=t.pluginElement.Content.SilverlightApp}t.success&&t.success(t,n)},fireEvent:function(e,t,n){var r,i;e=this.pluginMediaElements[e];e.ended=!1;e.paused=!0;t={type:t,target:e};for(r in n){e[r]=n[r];t[r]=n[r]}i=n.bufferedTime||0;t.target.buffered=t.buffered={start:function(){return 0},end:function(){return i},length:1};e.dispatchEvent(t.type,t)}};mejs.MediaElementDefaults={enablePluginDebug:!1,plugins:["flash","silverlight"],type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"/js/uncompressed/libs/mediaelement/flashmediaelement.swf",silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,timerRate:250,success:function(){},error:function(){}};mejs.MediaElement=function(e,t){mejs.HtmlMediaElementShim.create(e,t)};mejs.HtmlMediaElementShim={create:function(e,t){var n=mejs.MediaElementDefaults,r=typeof e=="string"?document.getElementById(e):e,i=r.tagName.toLowerCase()=="video",s=typeof r.canPlayType!="undefined",o={method:"",url:""},u=r.getAttribute("poster"),a=r.getAttribute("autoplay"),f=r.getAttribute("preload"),l;for(l in t)n[l]=t[l];u=typeof u=="undefined"||u===null?"":u;f=typeof f=="undefined"||f===null||
f==="false"?"none":f;a=typeof a=="undefined"||a===null||a==="false"?"":a;o=this.determinePlayback(r,n,i,s);o.method=="native"?this.updateNative(r,n,a,f,o):o.method!==""?this.createPlugin(r,n,i,o.method,o.url!==null?mejs.Utility.absolutizeUrl(o.url).replace("&","%26"):"",u,a,f):this.createErrorMessage(r,n,o.url!==null?mejs.Utility.absolutizeUrl(o.url):"",u)},determinePlayback:function(e,t,n,r){var i=[],s,o,u,a={method:"",url:""};s=e.getAttribute("src");var f,l;if(typeof t.type!="undefined"&&t.type!=="")i.push({type:t.type,url:null});else if(s!="undefined"&&s!==null){u=e.getAttribute("src");o=this.checkType(u,e.getAttribute("type"),n);i.push({type:o,url:u})}else for(s=0;s<e.childNodes.length;s++){o=e.childNodes[s];if(o.nodeType==1&&o.tagName.toLowerCase()=="source"){u=o.getAttribute("src");o=this.checkType(u,o.getAttribute("type"),n);i.push({type:o,url:u})}}if(r)for(s=0;s<i.length;s++)if(e.canPlayType(i[s].type).replace(/no/,"")!==""){a.method="native";a.url=i[s].url;return a}for(s=0;s<i.length;s++){o=i[s].type;for(e=0;e<t.plugins.length;e++){u=t.plugins[e];f=mejs.plugins[u];for(n=0;n<f.length;n++){l=f[n];if(mejs.PluginDetector.hasPluginVersion(u,l.version))for(r=0;r<l.types.length;r++)if(o==l.types[r]){a.method=u;a.url=i[s].url;return a}}}}a.method===""&&(a.url=i[0].url);return a},checkType:function(e,t,n){if(e&&!t){e=e.substring(e.lastIndexOf(".")+1);return(n?"video":"audio")+"/"+e}return t},createErrorMessage:function(e,t,n,r){var i=document.createElement("div");i.className="me-cannotplay";try{i.style.width=e.width+"px";i.style.height=e.height+"px"}catch(s){}i.innerHTML=r!==""?'<a href="'+n+'"><img src="'+r+'" /></a>':'<a href="'+n+'"><span>Download File</span></a>';e.parentNode.insertBefore(i,e);e.style.display="none";t.error(e)},createPlugin:function(e,t,n,r,i,s,o,u){var a=1,f=1,l="me_"+r+"_"+mejs.meIndex++,c=new mejs.PluginMediaElement(l,r),h=document.createElement("div"),p;for(p=e.parentNode;p!==null&&p.tagName.toLowerCase()!="body";){if(p.parentNode.tagName.toLowerCase()=="p"){p.parentNode.parentNode.insertBefore(p,p.parentNode);break}p=p.parentNode}if(n){a=t.videoWidth>0?t.videoWidth:e.getAttribute("width")!==null?e.getAttribute("width"):t.defaultVideoWidth;f=t.videoHeight>0?t.videoHeight:e.getAttribute("height")!==null?e.getAttribute("height"):t.defaultVideoHeight}else if(t.enablePluginDebug){a=320;f=240}c.success=t.success;mejs.MediaPluginBridge.registerPluginElement(l,c,e);h.className="me-plugin";e.parentNode.insertBefore(h,e);n=["id="+l,"poster="+s,"isvideo="+n.toString(),"autoplay="+o,"preload="+u,"width="+a,"timerrate="+t.timerRate,"height="+f];i!==null&&n.push("file="+mejs.Utility.encodeUrl(i));t.enablePluginDebug&&n.push("debug=true");switch(r){case"silverlight":h.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+l+'" name="'+l+'" width="'+a+'" height="'+f+'"><param name="initParams" value="'+n.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+t.pluginPath+t.silverlightName+'" /></object>';break;case"flash":mejs.MediaFeatures.isIE?h.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+l+'" width="'+a+'" height="'+f+'"><param name="movie" value="'+t.pluginPath+t.flashName+"?x="+new Date+'" /><param name="flashvars" value="'+n.join("&")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="sameDomain" /><param name="allowFullScreen" value="true" /></object>':h.innerHTML='<embed id="'+l+'" name="'+l+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="sameDomain" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" src="'+t.pluginPath+t.flashName+"?"+n.join("&")+'" width="'+a+'" height="'+f+'"></embed>'}e.style.display="none"},updateNative:function(e,t,n,r,i){for(var s in mejs.HtmlMediaElement)e[s]=mejs.HtmlMediaElement[s];if(mejs.MediaFeatures.isChrome&&r=="none"&&n!==""){e.src="";e.load();e.canceledPreload=!0;e.addEventListener("play",function(){if(e.canceledPreload){e.src=i.url;e.load();e.play();e.canceledPreload=!1}},!1)}t.success(e,e)}};window.mejs=mejs;window.MediaElement=mejs.MediaElement;(function(e){mejs.MepDefaults={poster:"",defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,audioWidth:400,audioHeight:30,startVolume:.8,loop:!1,enableAutosize:!0,features:["playpause","progress","current","duration","tracks","volume","fullscreen"]};mejs.mepIndex=0;mejs.MediaElementPlayer=function(t,n){if(!(this instanceof mejs.MediaElementPlayer))return new mejs.MediaElementPlayer(t,n);var r=this,i=mejs.MediaFeatures;r.$media=e(t);r.options=e.extend({},mejs.MepDefaults,n);r.isVideo=r.$media[0].tagName.toLowerCase()=="video";if(i.isiPad||i.isiPhone){r.$media.attr("controls","controls");r.$media.removeAttr("poster");if(i.isiPad&&r.$media[0].getAttribute("autoplay")!==null){r.$media[0].load();r.$media[0].play()}}else{if(!i.isAndroid||!r.isVideo){r.$media.removeAttr("controls");r.init();return r}r.$media.find("source").length>0&&(r.$media[0].src=r.$media.find('source[src$="mp4"]').attr("src"));r.$media.click(function(){r.$media[0].play()})}};mejs.MediaElementPlayer.prototype={init:function(){var t=this,n=e.extend(!0,{},t.options,{success:function(e,n){t.meReady(e,n)},error:function(e){t.handleError(e)}});t.id="mep_"+mejs.mepIndex++;t.container=e('<div id="'+t.id+'" class="mejs-container"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>').addClass(t.$media[0].className).insertBefore(t.$media);t.container.find(".mejs-mediaelement").append(t.$media);t.controls=t.container.find(".mejs-controls");t.layers=t.container.find(".mejs-layers");if(t.isVideo){t.width=t.options.videoWidth>0?t.options.videoWidth:t.$media[0].getAttribute("width")!==null?t.$media.attr("width"):t.options.defaultVideoWidth;t.height=t.options.videoHeight>0?t.options.videoHeight:t.$media[0].getAttribute("height")!==null?t.$media.attr("height"):t.options.defaultVideoHeight}else{t.width=t.options.audioWidth;t.height=t.options.audioHeight}t.setPlayerSize(t.width,t.height);n.pluginWidth=t.height;n.pluginHeight=t.width;mejs.MediaElement(t.$media[0],n)},meReady:function(t,n){var r=this,i,s;r.media=t;r.domNode=n;r.buildposter(r,r.controls,r.layers,r.media);r.buildoverlay(r,r.controls,r.layers,r.media);r.findTracks();for(i in r.options.features){s=r.options.features[i];if(r["build"+s])try{r["build"+s](r,r.controls,r.layers,r.media)}catch(o){}}r.setPlayerSize(r.width,r.height);r.setControlsSize();if(r.isVideo){r.container.bind("mouseenter",function(){r.controls.css("visibility","visible");r.controls.stop(!0,!0).fadeIn(200)}).bind("mouseleave",function(){r.media.paused||r.controls.stop(!0,!0).fadeOut(200,function(){e(this).css("visibility","hidden");e(this).css("display","block")})});r.options.enableAutosize&&r.media.addEventListener("loadedmetadata",function(e){if(r.options.videoHeight<=0&&r.$media[0].getAttribute("height")===null&&!isNaN(e.target.videoHeight)){r.setPlayerSize(e.target.videoWidth,e.target.videoHeight);r.setControlsSize();r.media.setVideoSize(e.target.videoWidth,e.target.videoHeight)}},!1)}r.media.addEventListener("ended",function(){r.media.setCurrentTime(0);r.media.pause();r.options.loop?r.media.play():r.controls.css("visibility","visible")},!0);setTimeout(function(){r.setControlsSize();r.setPlayerSize(r.width,r.height)},50);r.options.success&&r.options.success(r.media,r.domNode)},setPlayerSize:function(e,t){this.width=parseInt(e,10);this.height=parseInt(t,10);this.container.width(this.width).height(this.height);this.layers.children("div.mejs-layer").width(this.width).height(this.height)},setControlsSize:function(){var t=0,n=0,r=this.controls.find(".mejs-time-rail"),i=this.controls.find(".mejs-time-total");r.siblings().each(function(){e(this).css("position")!="absolute"&&(t+=e(this).outerWidth(!0))});n=this.controls.width()-t-(r.outerWidth(!0)-r.outerWidth(!1));r.width(n);i.width(n-(i.outerWidth(!0)-i.width()))},buildposter:function(t,n,r,i){var s=e('<div class="mejs-poster mejs-layer"><img /></div>').appendTo(r);n=t.$media.attr("poster");t.options.poster!=""?s.find("img").attr("src",t.options.poster):n!==""&&n!=null?s.find("img").attr("src",n):s.hide();i.addEventListener("play",function(){s.hide()},!1)},buildoverlay:function(t,n,r,i){if(t.isVideo){var s=e('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-button"></div></div>').appendTo(r).click(function(){i.paused?i.play():i.pause()});i.addEventListener("play",function(){s.hide()},!1);i.addEventListener("pause",function(){s.show()},!1)}},findTracks:function(){var t=this,n=t.$media.find("track");t.tracks=[];n.each(function(){t.tracks.push({srclang:e(this).attr("srclang").toLowerCase(),src:e(this).attr("src"),kind:e(this).attr("kind"),entries:[],isLoaded:!1})})},changeSkin:function(e){this.container[0].className="mejs-container "+e;this.setPlayerSize();this.setControlsSize()},play:function(){this.media.play()},pause:function(){this.media.pause()},load:function(){this.media.load()},setMuted:function(e){this.media.setMuted(e)},setCurrentTime:function(e){this.media.setCurrentTime(e)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(e){this.media.setVolume(e)},getVolume:function(){return this.media.volume},setSrc:function(e){this.media.setSrc(e)}};jQuery.fn.mediaelementplayer=function(t){return this.each(function(){return new mejs.MediaElementPlayer(e(this),t)})};window.MediaElementPlayer=mejs.MediaElementPlayer})(jQuery);(function(e){MediaElementPlayer.prototype.buildplaypause=function(t,n,r,i){var s=e('<div class="mejs-button mejs-playpause-button mejs-play"><span></span></div>').appendTo(n).click(function(){i.paused?i.play():i.pause()});i.addEventListener("play",function(){s.removeClass("mejs-play").addClass("mejs-pause")},!1);i.addEventListener("playing",function(){s.removeClass("mejs-play").addClass("mejs-pause")},!1);i.addEventListener("pause",function(){s.removeClass("mejs-pause").addClass("mejs-play")},!1);i.addEventListener("paused",function(){s.removeClass("mejs-pause").addClass("mejs-play")},!1)}})(jQuery);(function(e){MediaElementPlayer.prototype.buildprogress=function(t,n,r,i){e('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(n);var s=n.find(".mejs-time-total"),o=n.find(".mejs-time-loaded"),u=n.find(".mejs-time-current"),a=n.find(".mejs-time-handle"),l=n.find(".mejs-time-float"),c=n.find(".mejs-time-float-current"),h=function(e){e=e.target;var t=null;e&&e.bytesTotal!=undefined&&e.bytesTotal>0&&e.bufferedBytes!=undefined?t=e.bufferedBytes/e.bytesTotal:e&&e.buffered&&e.buffered.length>0&&e.buffered.end&&e.duration&&(t=e.buffered.end(0)/e.duration);t!==null&&o.width(s.width()*t)},p=function(e){e=e.pageX;var t=s.offset(),n=s.outerWidth();i.setCurrentTime((e-t.left)/n*i.duration)},d=!1;s.bind("mousedown",function(e){p(e);d=!0;return!1});e(document).bind("mouseup",function(){d=!1}).bind("mousemove",function(e){d&&p(e)});i.addEventListener("progress",function(e){h(e)},!1);i.addEventListener("timeupdate",function(e){h(e);if(i.currentTime&&i.duration){e=s.width()*i.currentTime/i.duration;var t=e-a.outerWidth(!0)/2;u.width(e);a.css("left",t);l.css("left",t);c.html(mejs.Utility.secondsToTimeCode(i.currentTime))}},!1)}})(jQuery);(function(e){MediaElementPlayer.prototype.buildcurrent=function(t,n,r,i){e('<div class="mejs-time"><span class="mejs-currenttime">00:00</span></div>').appendTo(n);i.addEventListener("timeupdate",function(){i.currentTime&&n.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(i.currentTime))},!1)};MediaElementPlayer.prototype.buildduration=function(t,n,r,i){n.children().last().find(".mejs-currenttime").length>0?e(' <span> | </span> <span class="mejs-duration">00:00</span>').appendTo(n.find(".mejs-time")):e('<div class="mejs-time"><span class="mejs-duration">00:00</span></div>').appendTo(n);i.addEventListener("timeupdate",function(){i.duration&&n.find(".mejs-duration").html(mejs.Utility.secondsToTimeCode(i.duration))},!1)}})(jQuery);(function(e){MediaElementPlayer.prototype.buildvolume=function(t,n,r,i){var s=e('<div class="mejs-button mejs-volume-button mejs-mute"><span></span><div class="mejs-volume-slider"><div class="mejs-volume-total"></div><div class="mejs-volume-current"></div><div class="mejs-volume-handle"></div></div></div>').appendTo(n);n=s.find(".mejs-volume-slider");var o=s.find(".mejs-volume-total"),u=s.find(".mejs-volume-current"),a=s.find(".mejs-volume-handle"),l=function(e){e=o.height()-o.height()*e;a.css("top",e-a.height()/2);u.height(o.height()-e+parseInt(o.css("top").replace(/px/,""),10));u.css("top",e)},c=function(e){var t=o.height(),n=o.offset(),r=parseInt(o.css("top").replace(/px/,""),10);e=e.pageY-n.top;n=(t-e)/t;e<0?e=0:e>t&&(e=t);a.css("top",e-a.height()/2+r);u.height(t-e);u.css("top",e+r);if(n==0){i.setMuted(!0);s.removeClass("mejs-mute").addClass("mejs-unmute")}else{i.setMuted(!1);s.removeClass("mejs-unmute").addClass("mejs-mute")}n=Math.max(0,n);n=Math.min(n,1);i.setVolume(n)},h=!1;n.bind("mousedown",function(e){c(e);h=!0;return!1});e(document).bind("mouseup",function(){h=!1}).bind("mousemove",function(e){h&&c(e)});s.find("span").click(function(){if(i.muted){i.setMuted(!1);s.removeClass("mejs-unmute").addClass("mejs-mute");l(1)}else{i.setMuted(!0);s.removeClass("mejs-mute").addClass("mejs-unmute");l(0)}});i.addEventListener("volumechange",function(e){h||l(e.target.volume)},!0);i.setVolume(t.options.startVolume)}})(jQuery);(function(e){MediaElementPlayer.prototype.buildfullscreen=function(t,n,r,i){if(t.isVideo){var s=!1,o=0,u=0,a=t.container,l=e('<div class="mejs-button mejs-fullscreen-button"><span></span></div>').appendTo(n).click(function(){c(!s)}),c=function(e){switch(i.pluginType){case"flash":case"silverlight":i.setFullscreen(e);break;case"native":if(mejs.MediaFeatures.hasNativeFullScreen)e?i.webkitEnterFullScreen():i.webkitExitFullScreen();else{if(e){o=t.$media.height();u=t.$media.width();a.addClass("mejs-container-fullscreen").width("100%").height("100%").css("z-index",1e3);t.$media.width("100%").height("100%");r.children("div").width("100%").height("100%");l.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen")}else{a.removeClass("mejs-container-fullscreen").width(u).height(o).css("z-index",1);t.$media.width(u).height(o);r.children("div").width(u).height(o);l.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen")}t.setControlsSize()}}s=e};e(document).bind("keydown",function(e){s&&e.keyCode==27&&c(!1)})}}})(jQuery);(function(e){e.extend(mejs.MepDefaults,{startLanguage:"",translations:[],translationSelector:!1,googleApiKey:""});e.extend(MediaElementPlayer.prototype,{buildtracks:function(t,n,r,i){if(t.isVideo&&t.tracks.length!=0){var s,o="";t.chapters=e('<div class="mejs-chapters mejs-layer"></div>').prependTo(r).hide();t.captions=e('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position"><span class="mejs-captions-text"></span></div></div>').prependTo(r).hide();t.captionsText=t.captions.find(".mejs-captions-text");t.captionsButton=e('<div class="mejs-button mejs-captions-button"><span></span><div class="mejs-captions-selector"><ul><li><input type="radio" name="'+t.id+'_captions" id="'+t.id+'_captions_none" value="none" checked="checked" /><label for="'+t.id+'_captions_none">None</label></li></ul></div></div>').appendTo(n).delegate("input[type=radio]","click",function(){lang=this.value;if(lang=="none")t.selectedTrack=null;else for(s=0;s<t.tracks.length;s++)if(t.tracks[s].srclang==lang){t.selectedTrack=t.tracks[s];t.captions.attr("lang",t.selectedTrack.srclang);t.displayCaptions();break}});t.container.bind("mouseenter",function(){var e=t.container.find(".mejs-captions-position");e.css("bottom",parseInt(e.css("bottom").replace(/px/,""),10)+t.controls.height()+"px")}).bind("mouseleave",function(){i.paused||t.container.find(".mejs-captions-position").css("bottom","")});t.trackToLoad=-1;t.selectedTrack=null;t.isLoadingTrack=!1;if(t.tracks.length>0&&t.options.translations.length>0)for(s=0;s<t.options.translations.length;s++)t.tracks.push({srclang:t.options.translations[s].toLowerCase(),src:null,kind:"subtitles",entries:[],isLoaded:!1,isTranslation:!0});for(s=0;s<t.tracks.length;s++)t.tracks[s].kind=="subtitles"&&t.addTrackButton(t.tracks[s].srclang,t.tracks[s].isTranslation);t.loadNextTrack();i.addEventListener("timeupdate",function(){t.displayCaptions()},!1);i.addEventListener("loadedmetadata",function(){t.displayChapters()},!1);t.container.hover(function(){t.chapters.css("visibility","visible");t.chapters.fadeIn(200)},function(){i.paused||t.chapters.fadeOut(200,function(){e(this).css("visibility","hidden");e(this).css("display","block")})});if(t.options.translationSelector){for(s in mejs.language.codes)o+='<option value="'+s+'">'+mejs.language.codes[s]+"</option>";t.container.find(".mejs-captions-selector ul").before(e('<select class="mejs-captions-translations"><option value="">--Add Translation--</option>'+o+"</select>"));t.container.find(".mejs-captions-translations").change(function(){lang=e(this).val();if(lang!=""){t.tracks.push({srclang:lang,src:null,entries:[],isLoaded:!1,isTranslation:!0});if(!t.isLoadingTrack){t.trackToLoad--;t.addTrackButton(lang,!0);t.options.startLanguage=lang;t.loadNextTrack()}}})}}},loadNextTrack:function(){this.trackToLoad++;if(this.trackToLoad<this.tracks.length){this.isLoadingTrack=!0;this.loadTrack(this.trackToLoad)}else this.isLoadingTrack=!1},loadTrack:function(t){var n=this,r=n.tracks[t],i=function(){r.isLoaded=!0;n.enableTrackButton(r.srclang);n.loadNextTrack()};r.isTranslation?mejs.SrtParser.translateSrt(n.tracks[0].entries,n.tracks[0].srclang,r.srclang,n.options.googleApiKey,function(e){r.entries=e;i()}):e.ajax({url:r.src,success:function(e){r.entries=mejs.SrtParser.parse(e);i();r.kind=="chapters"&&n.media.duration>0&&n.drawChapters(r)},error:function(){n.loadNextTrack()}})},enableTrackButton:function(t){this.captionsButton.find("input[value="+t+"]").attr("disabled","").siblings("label").html(mejs.language.codes[t]||t);this.options.startLanguage==t&&e("#"+this.id+"_captions_"+t).click();this.adjustLanguageBox()},addTrackButton:function(t,n){var r=mejs.language.codes[t]||t;this.captionsButton.find("ul").append(e('<li><input type="radio" name="'+this.id+'_captions" id="'+this.id+"_captions_"+t+'" value="'+t+'" disabled="disabled" /><label for="'+this.id+"_captions_"+t+'">'+r+(n?" (translating)":" (loading)")+"</label></li>"));this.adjustLanguageBox();this.container.find(".mejs-captions-translations option[value="+t+"]").remove()},adjustLanguageBox:function(){this.captionsButton.find(".mejs-captions-selector").height(this.captionsButton.find(".mejs-captions-selector ul").outerHeight(!0)+this.captionsButton.find(".mejs-captions-translations").outerHeight(!0))},displayCaptions:function(){if(typeof this.tracks!="undefined"){var e,t=this.selectedTrack;if(t!=null&&t.isLoaded)for(e=0;e<t.entries.times.length;e++)if(this.media.currentTime>=t.entries.times[e].start&&this.media.currentTime<=t.entries.times[e].stop){this.captionsText.html(t.entries.text[e]);this.captions.show();return}this.captions.hide()}},displayChapters:function(){var e;for(e=0;e<this.tracks.length;e++)if(this.tracks[e].kind=="chapters"&&this.tracks[e].isLoaded){this.drawChapters(this.tracks[e]);break}},drawChapters:function(t){var n=this,r,i,s=i=0;n.chapters.empty();for(r=0;r<t.entries.times.length;r++){i=t.entries.times[r].stop-t.entries.times[r].start;i=Math.floor(i/n.media.duration*100);if(i+s>100||r==t.entries.times.length-1&&i+s<100)i=100-s;n.chapters.append(e('<div class="mejs-chapter" rel="'+t.entries.times[r].start+'" style="left: '+s.toString()+"%;width: "+i.toString()+'%;"><div class="mejs-chapter-block'+(r==t.entries.times.length-1?" mejs-chapter-block-last":"")+'"><span class="ch-title">'+t.entries.text[r]+'</span><span class="ch-time">'+mejs.Utility.secondsToTimeCode(t.entries.times[r].start)+"&ndash;"+mejs.Utility.secondsToTimeCode(t.entries.times[r].stop)+"</span></div></div>"));s+=i}n.chapters.find("div.mejs-chapter").click(function(){n.media.setCurrentTime(parseFloat(e(this).attr("rel")));n.media.paused&&n.media.play()});n.chapters.show()}});mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}};mejs.SrtParser={pattern_identifier:/^[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}(,[0-9]{1,3})?) --\> ([0-9]{2}:[0-9]{2}:[0-9]{2}(,[0-9]{3})?)(.*)$/,timecodeToSeconds:function(e){e=e.split(":");return e[0]*60*60+e[1]*60+parseFloat(e[2].replace(",","."))},split2:function(e,t){return e.split(t)},parse:function(e){var t=0;e=this.split2(e,/\r?\n/);for(var n={text:[],times:[]},r,i;t<e.length;t++)if(this.pattern_identifier.exec(e[t])){t++;if((r=this.pattern_timecode.exec(e[t]))&&t<e.length){t++;i=e[t];for(t++;e[t]!==""&&t<e.length;){i=i+"\n"+e[t];t++}n.text.push(i);n.times.push({start:this.timecodeToSeconds(r[1]),stop:this.timecodeToSeconds(r[3]),settings:r[5]})}}return n},translateSrt:function(e,t,n,r,i){var s={text:[],times:[]},o,u;this.translateText(e.text.join(" <a></a>"),t,n,r,function(t){o=t.split("<a></a>");for(u=0;u<e.text.length;u++){s.text[u]=o[u];s.times[u]={start:e.times[u].start,stop:e.times[u].stop,settings:e.times[u].settings}}i(s)})},translateText:function(e,t,n,r,i){for(var s,o=[],u,a="",f=function(){if(o.length>0){u=o.shift();mejs.SrtParser.translateChunk(u,t,n,r,function(e){e!="undefined"&&(a+=e);f()})}else i(a)};e.length>0;)if(e.length>1e3){s=e.lastIndexOf(".",1e3);o.push(e.substring(0,s));e=e.substring(s+1)}else{o.push(e);e=""}f()},translateChunk:function(t,n,r,i,s){t={q:t,langpair:n+"|"+r,v:"1.0"};i!==""&&i!==null&&(t.key=i);e.ajax({url:"https://ajax.googleapis.com/ajax/services/language/translate",data:t,type:"GET",dataType:"jsonp",success:function(e){s(e.responseData.translatedText)},error:function(){s(null)}})}};"x\n\ny".split(/\n/gi).length!=3&&(mejs.SrtParser.split2=function(e,t){var n=[],r="",i;for(i=0;i<e.length;i++){r+=e.substring(i,i+1);if(t.test(r)){n.push(r.replace(t,""));r=""}}n.push(r);return n})})(jQuery);(function(e,t,n){function f(e){e=e||location.href;return"#"+e.replace(/^[^#]*#?(.*)$/,"$1")}var r="hashchange",i=document,s,o=e.event.special,u=i.documentMode,a="on"+r in t&&(u===n||u>7);e.fn[r]=function(e){return e?this.bind(r,e):this.trigger(r)};e.fn[r].delay=50;o[r]=e.extend(o[r],{setup:function(){if(a)return!1;e(s.start)},teardown:function(){if(a)return!1;e(s.stop)}});s=function(){function m(){var n=f(),i=v(u);if(n!==u){p(u=n,i);e(t).trigger(r)}else i!==u&&(location.href=location.href.replace(/#.*/,"")+i);o=setTimeout(m,e.fn[r].delay)}var s={},o,u=f(),l=function(e){return e},p=l,v=l;s.start=function(){o||m()};s.stop=function(){o&&clearTimeout(o);o=n};e.browser.msie&&!a&&function(){var t,n;s.start=function(){if(!t){n=e.fn[r].src;n=n&&n+f();t=e('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){n||p(f());m()}).attr("src",n||"javascript:0").insertAfter("body")[0].contentWindow;i.onpropertychange=function(){try{event.propertyName==="title"&&(t.document.title=i.title)}catch(e){}}}};s.stop=l;v=function(){return f(t.location.href)};p=function(n,s){var o=t.document,u=e.fn[r].domain;if(n!==s){o.title=i.title;o.open();u&&o.write('<script>document.domain="'+u+'"</script>');o.close();t.location.hash=n}}}();return s}()})(jQuery,this);(function(e){e.fn.lightBox=function(t){function r(){i(this,n);return!1}function i(n,r){e("embed, object, select").css({visibility:"hidden"});s();t.imageArray.length=0;t.activeImage=0;if(r.length==1)t.imageArray.push(new Array(n.getAttribute("href"),n.getAttribute("title")));else for(var i=0;i<r.length;i++)t.imageArray.push(new Array(r[i].getAttribute("href"),r[i].getAttribute("title")));while(t.imageArray[t.activeImage][0]!=n.getAttribute("href"))t.activeImage++;o()}function s(){e("body").append('<div id="jquery-overlay"></div><div id="jquery-lightbox"><div id="lightbox-container-image-box"><div id="lightbox-container-image"><img id="lightbox-image"><div style="" id="lightbox-nav"><a href="#" id="lightbox-nav-btnPrev"></a><a href="#" id="lightbox-nav-btnNext"></a></div><div id="lightbox-loading"><a href="#" id="lightbox-loading-link"><img src="'+t.imageLoading+'"></a></div></div></div><div id="lightbox-container-image-data-box"><div id="lightbox-container-image-data"><div id="lightbox-image-details"><span id="lightbox-image-details-caption"></span><span id="lightbox-image-details-currentNumber"></span></div><div id="lightbox-secNav"><a href="#" id="lightbox-secNav-btnClose"><img src="'+t.imageBtnClose+'"></a></div></div></div></div>');var n=m();e("#jquery-overlay").css({backgroundColor:t.overlayBgColor,opacity:t.overlayOpacity,width:n[0],height:n[1]}).fadeIn();var r=g();e("#jquery-lightbox").css({top:r[1]+n[3]/10,left:r[0]}).show();e("#jquery-overlay,#jquery-lightbox").click(function(){v()});e("#lightbox-loading-link,#lightbox-secNav-btnClose").click(function(){v();return!1});e(window).resize(function(){var t=m();e("#jquery-overlay").css({width:t[0],height:t[1]});var n=g();e("#jquery-lightbox").css({top:n[1]+t[3]/10,left:n[0]})})}function o(){e("#lightbox-loading").show();t.fixedNavigation?e("#lightbox-image,#lightbox-container-image-data-box,#lightbox-image-details-currentNumber").hide():e("#lightbox-image,#lightbox-nav,#lightbox-nav-btnPrev,#lightbox-nav-btnNext,#lightbox-container-image-data-box,#lightbox-image-details-currentNumber").hide();var n=new Image;n.onload=function(){e("#lightbox-image").attr("src",t.imageArray[t.activeImage][0]);u(n.width,n.height);n.onload=function(){}};n.src=t.imageArray[t.activeImage][0]}function u(n,r){var i=e("#lightbox-container-image-box").width(),s=e("#lightbox-container-image-box").height(),o=n+t.containerBorderSize*2,u=r+t.containerBorderSize*2,f=i-o,l=s-u;e("#lightbox-container-image-box").animate({width:o,height:u},t.containerResizeSpeed,function(){a()});f==0&&l==0&&(e.browser.msie?y(250):y(100));e("#lightbox-container-image-data-box").css({width:n});e("#lightbox-nav-btnPrev,#lightbox-nav-btnNext").css({height:r+t.containerBorderSize*2})}function a(){e("#lightbox-loading").hide();e("#lightbox-image").fadeIn(function(){f();l()});d()}function f(){e("#lightbox-container-image-data-box").slideDown("fast");e("#lightbox-image-details-caption").hide();t.imageArray[t.activeImage][1]&&e("#lightbox-image-details-caption").html(t.imageArray[t.activeImage][1]).show();t.imageArray.length>1&&e("#lightbox-image-details-currentNumber").html(t.txtImage+" "+(t.activeImage+1)+" "+t.txtOf+" "+t.imageArray.length).show()}function l(){e("#lightbox-nav").show();e("#lightbox-nav-btnPrev,#lightbox-nav-btnNext").css({background:"transparent url("+t.imageBlank+") no-repeat"});t.activeImage!=0&&(t.fixedNavigation?e("#lightbox-nav-btnPrev").css({background:"url("+t.imageBtnPrev+") left 15% no-repeat"}).unbind().bind("click",function(){t.activeImage=t.activeImage-1;o();return!1}):e("#lightbox-nav-btnPrev").unbind().hover(function(){e(this).css({background:"url("+t.imageBtnPrev+") left 15% no-repeat"})},function(){e(this).css({background:"transparent url("+t.imageBlank+") no-repeat"})}).show().bind("click",function(){t.activeImage=t.activeImage-1;o();return!1}));t.activeImage!=t.imageArray.length-1&&(t.fixedNavigation?e("#lightbox-nav-btnNext").css({background:"url("+t.imageBtnNext+") right 15% no-repeat"}).unbind().bind("click",function(){t.activeImage=t.activeImage+1;o();return!1}):e("#lightbox-nav-btnNext").unbind().hover(function(){e(this).css({background:"url("+t.imageBtnNext+") right 15% no-repeat"})},function(){e(this).css({background:"transparent url("+t.imageBlank+") no-repeat"})}).show().bind("click",function(){t.activeImage=t.activeImage+1;o();return!1}));c()}function c(){e(document).keydown(function(e){p(e)})}function h(){e(document).unbind()}function p(e){if(e==null){keycode=event.keyCode;escapeKey=27}else{keycode=e.keyCode;escapeKey=e.DOM_VK_ESCAPE}key=String.fromCharCode(keycode).toLowerCase();(key==t.keyToClose||key=="x"||keycode==escapeKey)&&v();if(key==t.keyToPrev||keycode==37)if(t.activeImage!=0){t.activeImage=t.activeImage-1;o();h()}if(key==t.keyToNext||keycode==39)if(t.activeImage!=t.imageArray.length-1){t.activeImage=t.activeImage+1;o();h()}}function d(){if(t.imageArray.length-1>t.activeImage){objNext=new Image;objNext.src=t.imageArray[t.activeImage+1][0]}if(t.activeImage>0){objPrev=new Image;objPrev.src=t.imageArray[t.activeImage-1][0]}}function v(){e("#jquery-lightbox").remove();e("#jquery-overlay").fadeOut(function(){e("#jquery-overlay").remove()});e("embed, object, select").css({visibility:"visible"})}function m(){var e,t;if(window.innerHeight&&window.scrollMaxY){e=window.innerWidth+window.scrollMaxX;t=window.innerHeight+window.scrollMaxY}else if(document.body.scrollHeight>document.body.offsetHeight){e=document.body.scrollWidth;t=document.body.scrollHeight}else{e=document.body.offsetWidth;t=document.body.offsetHeight}var n,r;if(self.innerHeight){document.documentElement.clientWidth?n=document.documentElement.clientWidth:n=self.innerWidth;r=self.innerHeight}else if(document.documentElement&&document.documentElement.clientHeight){n=document.documentElement.clientWidth;r=document.documentElement.clientHeight}else if(document.body){n=document.body.clientWidth;r=document.body.clientHeight}t<r?pageHeight=r:pageHeight=t;e<n?pageWidth=e:pageWidth=n;arrayPageSize=new Array(pageWidth,pageHeight,n,r);return arrayPageSize}function g(){var e,t;if(self.pageYOffset){t=self.pageYOffset;e=self.pageXOffset}else if(document.documentElement&&document.documentElement.scrollTop){t=document.documentElement.scrollTop;e=document.documentElement.scrollLeft}else if(document.body){t=document.body.scrollTop;e=document.body.scrollLeft}arrayPageScroll=new Array(e,t);return arrayPageScroll}function y(e){var t=new Date;n=null;do var n=new Date;while(n-t<e)}t=jQuery.extend({overlayBgColor:"#000",overlayOpacity:.8,fixedNavigation:!1,imageLoading:"/resources/lightbox/lightbox-ico-loading.gif",imageBtnPrev:"/resources/lightbox/lightbox-btn-prev.gif",imageBtnNext:"/resources/lightbox/lightbox-btn-next.gif",imageBtnClose:"/resources/lightbox/lightbox-btn-close.gif",imageBlank:"/resources/lightbox/lightbox-blank.gif",containerBorderSize:10,containerResizeSpeed:400,txtImage:"Image",txtOf:"of",keyToClose:"c",keyToPrev:"p",keyToNext:"n",imageArray:[],activeImage:0},t);var n=this;return this.unbind("click").click(r)}})(jQuery);var whatsNewTimer,movementInProgress=!1,lastScrollPosition=0,$lightboxes,$body,$themeCSS,$requiresJavascript,$notifications,$externalLinks,$sidebar,$main,$menuLis,$filterMenu,$videoTags,$audioTags,$swfLinks,$mp4Links,$ajaxLinks,$contentWrapper,$game,$gameWrapper,$gameContainer,$gameAndCloseButtonWrapper,$container,$factOfTheDayButton,$factOfTheDay,$searchForm,phase2Flag,factHeight,$embeddedFlash,alternativeContentShowing,$tooltip,$formspring,fadeInQueue;(function(e){var t=[];e.preLoadImages=function(){var e=arguments.length;for(var n=e;n--;){var r=document.createElement("img");r.src=arguments[n];t.push(r)}}})(jQuery);var videoClicked;videoClicked=function(){var e=!1;$(this).hasClass("skip-fade")&&(e=!0);alternativeContentShowing=!0;window.location.hash="#"+$(this).attr("href");lastScrollPosition=$(window).scrollTop();var t=$(this).attr("href"),n=$(this).attr("data-height"),r=$(this).attr("data-width");r===undefined&&(r=930);phase2Flag=!0;var i=1e3;e&&(i=1);$contentWrapper.add("#game-and-close-button-wrapper, header:not(#nasa-header), footer:not(#nasa-footer)"
).fadeOut(i,function(){if(phase2Flag){$("#game-and-close-button-wrapper").remove();swfClickedPhaseTwo(t,n,r);phase2Flag=!1}});return!1};var whatsNewNext;whatsNewNext=function(){var e=$(".whats-new ul li"),t=$(".whats-new ul li.current"),n=e.index(t);n++;n>=e.length&&(n=0);whatsNewGoTo(n)};$(function(){$lightboxes=$(".lightbox, .gallery li a");$body=$("body");$themeCSS=$("link[href^='/css/css/themes/']");$requiresJavascript=$(".requires-javascript");$notifications=$("#notifications");$externalLinks=$("a[href^='http://']:not(a[target='_blank'], a[href^='http://spaceplace.nasa.gov'], a[href^='http://spaceplace-test'])");$sidebar=$("#sidebar");$main=$("#main");$menuLis=$("#menu li");$filterMenu=$("#filter-menu");$embeddedFlash=$(".embedded-flash");$videoTags=$("video");$audioTags=$("audio");$swfLinks=$("a[href$='.swf'], a[href*='.swf?']");$mp4Links=$("a[href$='.mp4']");$ajaxLinks=$("a.ajax, area.ajax");$contentWrapper=$("#content-wrapper");$gameWrapper=$();$game=$();$gameContainer=$();$gameAndCloseButtonWrapper=$();$container=$("#container");$factOfTheDayButton=$("a.fact-of-the-day");$factOfTheDay=$("#fact-of-the-day-content");$searchForm=$("#search-form");alternativeContentShowing=!1;$formspring=$("#formspring");$tooltip=$(".tooltip");$requiresJavascript.show();$("img[data-over]").hoverImage();$formspring.formspring();$("#skinny-footer").skinnyFooter();$searchForm.find("img").click(function(){$searchForm.submit()});$lightboxes.lightBox();$("#image-well").imageWell($("#image-thumbnails"));$("table").cssizeTable();initFactOfTheDay();processQueryStringForTheme();$notifications.notify();$externalLinks.externalLink();$menuLis.click(function(){if($(this).find("a").attr("target") !== "_blank"){window.location=$(this).find("a").attr("href");}else{window.open($(this).find("a").attr("href"),"_blank");}});$menuLis.find("p a:not(.tooltip-description)").truncate("...",38).parent().parent().hover(swapTruncation);$(".tooltip-description").activateTooltip($tooltip);whatsNewInit();$filterMenu.length>0&&menuFilterInit();$embeddedFlash.embeddedFlash();$videoTags.mediaelementplayer({features:["playpause","progress","volume","fullscreen"]});$audioTags.not(".small").mediaelementplayer({audioWidth:300});$audioTags.filter(".small").mediaelementplayer({audioWidth:200});$swfLinks.add($mp4Links).add($ajaxLinks).click(videoClicked);indexHoverInit();$(window).hashchange(hashChangeCheck);$(window).hashchange();$(".sp #menu .title h1").text().length>18&&$(".sp #menu .title h1").css("font-size","17px");$("#main .title h1").text().length<30&&$(".long-title").removeClass("long-title");simpleGallery();$(".social-media").simpleFader();fontCheckWF();fixSideCaptions();getParameterByName("filter")!==""&&$(".conditional").conditionalChildren(getParameterByName("filter"));$("#search-bar").quickSearch();typeof pageSpecificScript!="undefined"&&pageSpecificScript()});$(window).load(function(){var e=setInterval(function(){var t=$("[data-src-after-load]");if(t.length<1){clearInterval(e);return}t=t.first();t.attr("src",t.attr("data-src-after-load"));t.removeAttr("data-src-after-load")},500)});